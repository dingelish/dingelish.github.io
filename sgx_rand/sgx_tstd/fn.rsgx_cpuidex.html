<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `rsgx_cpuidex` fn in crate `sgx_tstd`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, rsgx_cpuidex">

    <title>sgx_tstd::rsgx_cpuidex - Rust</title>

    <link rel="stylesheet" type="text/css" href="../normalize.css">
    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">
    

    
    
</head>
<body class="rustdoc fn">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        <div class="sidebar-menu">&#9776;</div>
        
        <p class='location'><a href='index.html'>sgx_tstd</a></p><script>window.sidebarCurrent = {name: 'rsgx_cpuidex', ty: 'fn', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content">
<h1 class='fqn'><span class='in-band'>Function <a href='index.html'>sgx_tstd</a>::<wbr><a class="fn" href=''>rsgx_cpuidex</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../src/sgx_tstd/cpuid.rs.html#145-153' title='goto source code'>[src]</a></span></h1>
<pre class='rust fn'>pub fn rsgx_cpuidex(leaf: i32, subleaf: i32) -&gt; <a class="type" href="../sgx_types/error/type.SgxResult.html" title="type sgx_types::error::SgxResult">SgxResult</a>&lt;<a class="type" href="../sgx_types/types/type.sgx_cpuinfo_t.html" title="type sgx_types::types::sgx_cpuinfo_t">sgx_cpuinfo_t</a>&gt;</pre><div class='docblock'><p>The rsgx_cpuidex function performs the equivalent of a cpuid_ex() function call or
intrinisic which executes the CPUID instruction to query the host processor for
the information about supported features.</p>
<p><strong>Note</strong></p>
<p>This function performs an OCALL to execute the CPUID instruction.</p>
<h1 id="description" class="section-header"><a href="#description">Description</a></h1>
<p>This function provides the equivalent of the cpuid_ex() function or intrinsic. The
function executes the CPUID instruction for the given leaf (input). The CPUID
instruction provides processor feature and type information that is returned in
cpuinfo, an array of 4 integers to specify the values of EAX, EBX, ECX and EDX
registers. rsgx_cpuidex performs an OCALL by invoking oc_cpuidex to get the
info from untrusted side because the CPUID instruction is an illegal instruction
in the enclave domain.</p>
<p><strong>Note</strong></p>
<p>As the CPUID instruction is executed by an OCALL, the results should not
be trusted. Code should verify the results and perform a threat evaluation
to determine the impact on trusted code if the results were
spoofed.</p>
<p>The implementation of this function performs an OCALL and therefore,
this function will not have the same serializing or fencing behavior of
executing a CPUID instruction in an untrusted domain code flow.</p>
<h1 id="parameters" class="section-header"><a href="#parameters">Parameters</a></h1>
<p><strong>leaf</strong></p>
<p>The leaf specified for retrieved CPU info.</p>
<p><strong>subleaf</strong></p>
<p>The sub-leaf specified for retrieved CPU info.</p>
<h1 id="requirements" class="section-header"><a href="#requirements">Requirements</a></h1>
<p>Library: libsgx_tstdc.a</p>
<h1 id="return-value" class="section-header"><a href="#return-value">Return value</a></h1>
<p>The information returned in an array of four integers.</p>
<h1 id="errors" class="section-header"><a href="#errors">Errors</a></h1>
<p><strong>SGX_ERROR_INVALID_PARAMETER</strong></p>
<p>Indicates the parameter is invalid.</p>
</div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>↑</dt>
                    <dd>Move up in search results</dd>
                    <dt>↓</dt>
                    <dd>Move down in search results</dd>
                    <dt>↹</dt>
                    <dd>Switch tab</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt style="width:31px;">+ / -</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "sgx_tstd";
    </script>
    <script src="../main.js"></script>
    <script defer src="../search-index.js"></script>
</body>
</html>